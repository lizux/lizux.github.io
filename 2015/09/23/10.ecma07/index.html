<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="前言为了便于阅读本部分文档，定义一些常见概念：  静态定位：position:static（position 属性的默认值） 动态定位：position:relative、absolute、fixed 祖先节点：任意包含该节点的节点。（元素节点） 父节点：直接包含该节点的祖先节点。（元素节点，且唯一） 兄弟节点：拥有共同的父节点的节点。（不一定为元素节点） 子节点：该节点下直接包含的所有节点，该节">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript 读书心得之七：文档对象模型（DOM）">
<meta property="og:url" content="http://example.com/2015/09/23/10.ecma07/index.html">
<meta property="og:site_name" content="Lizux">
<meta property="og:description" content="前言为了便于阅读本部分文档，定义一些常见概念：  静态定位：position:static（position 属性的默认值） 动态定位：position:relative、absolute、fixed 祖先节点：任意包含该节点的节点。（元素节点） 父节点：直接包含该节点的祖先节点。（元素节点，且唯一） 兄弟节点：拥有共同的父节点的节点。（不一定为元素节点） 子节点：该节点下直接包含的所有节点，该节">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2015-09-22T16:00:00.000Z">
<meta property="article:modified_time" content="2023-10-26T02:32:58.374Z">
<meta property="article:author" content="可口可乐">
<meta property="article:tag" content="JavaScript">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/2015/09/23/10.ecma07/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>JavaScript 读书心得之七：文档对象模型（DOM） | Lizux</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Lizux</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Just go on</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2015/09/23/10.ecma07/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="可口可乐">
      <meta itemprop="description" content="Personal Blog">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lizux">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          JavaScript 读书心得之七：文档对象模型（DOM）
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2015-09-23 00:00:00" itemprop="dateCreated datePublished" datetime="2015-09-23T00:00:00+08:00">2015-09-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-10-26 10:32:58" itemprop="dateModified" datetime="2023-10-26T10:32:58+08:00">2023-10-26</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>为了便于阅读本部分文档，定义一些常见概念：</p>
<ul>
<li>静态定位：position:static（position 属性的默认值）</li>
<li>动态定位：position:relative、absolute、fixed</li>
<li>祖先节点：任意包含该节点的节点。（元素节点）</li>
<li>父节点：直接包含该节点的祖先节点。（元素节点，且唯一）</li>
<li>兄弟节点：拥有共同的父节点的节点。（不一定为元素节点）</li>
<li>子节点：该节点下直接包含的所有节点，该节点为这些节点的父节点。（不一定为元素节点）</li>
<li>后代节点：该节点下包含的所有节点，该节点为这些节点的祖先节点。（不一定为元素节点）</li>
</ul>
<p>文档对象模型（DOM）是一个平台，一个中立于语言的应用程序编程接口（API），允许程序读取并更改文档的内容、结构和样式，主要由 <a target="_blank" rel="noopener" href="http://www.w3.org/DOM/Activity">W3C（万维网联盟）</a> 来负责制定标准</p>
<h2 id="W3C-DOM"><a href="#W3C-DOM" class="headerlink" title="W3C DOM"></a>W3C DOM</h2><p>W3C DOM 按内容分为：<br>0. DOM Core：用于任何结构化文档包括 XML 的标准模型，适用于任何支持 DOM 的语言<br>0. HTML DOM：用于 HTML 文档的标准模型，适用于 JavaScript，它把文档中的 HTML 元素都作为 HTML DOM 对象，它的属性、方法和事件也对应到 HTML DOM 的对象属性、方法和事件<br>0. CSS DOM：HTML DOM 中的细分领域，用于对 HTML 文档的样式表对象进行操作</p>
<p>W3C DOM 按级别分为：<br>0. DOM Level 1 专注于 HTML 和 XML 文档模型。它含有文档读取和操作功能<br>0. DOM Level 2 添加了样式表对象模型，并定义了操作附于文档之上的样式信息的功能性。同时还定义了一个事件模型，并提供了对 XML 命名空间的支持<br>    DOM Level 2 Core：规定了读取和更改文档内容及结构的一个 API，此 API 同时包含用于 XML 的接口<br>    DOM Level 2 HTML：规定了操作 HTML 文档结构和内容的 API<br>    DOM Level 2 Views：规定了对文档视图进行读取和更改的 API。视图是与原文档相关联的表现形式或某种备用的表现形式<br>    DOM Level 2 Style：规定了动态读取及更改内容样式表的 API<br>    DOM Level 2 Events：规定了读取文档事件的 API<br>    DOM Level 2 Traversal &amp; Range：规定了动态遍历和识别文档中内容范围的 API<br>0. DOM Level 3 规定了内容模型（DTD 和 Schemas）和文档验证。同时规定了文档加载和保存、文档查看、文档格式化和关键事件<br>    DOM Level 3 Core：规定了读取和更改文档内容、结构及样式的一个 API<br>    DOM Level 3 Load &amp; Save：规定了用于内容加载和保存、内容模型（DTD 和 Schemas）和文档验证支持的 API<br>    DOM Level 3 Validation<br>        以下还属于 W3C 草案，并不是 W3C 标准<br>        DOM Level 3 Requirements<br>        DOM Level 3 Abstract Schemas<br>        DOM Level 3 Events：通过增加新的接口和新的事件集，对 Level 2 Event API 的功能进行了扩展<br>        DOM Level 3 XPath<br>        DOM Level 3 Views and Formatting：规定了对文档视图进行读取和更改的 API。视图是与原文档相关联的表现形式或某种备用的表现形式<br>        DOM Level 4</p>
<p>另外，还有 0 级 DOM（DOM Level 0），但它并不是 W3C 标准，只是约定俗成的叫法，是对在 Netscape3 和 IE3 中的等价功能性的一种定义，包括了原始的 HTML DOM</p>
<p>目前浏览器都支持 W3C DOM：Firefox 支持几乎所有的 Level 2 和部分 Level 3；Opera7.2+ 支持几乎所有的 Level 1 和大部分 Level 2；而 IE5.5+&#x2F;Safari1.0+ 只支持 Level 1</p>
<h2 id="DOM-中的节点"><a href="#DOM-中的节点" class="headerlink" title="DOM 中的节点"></a>DOM 中的节点</h2><p>DOM 的最小组成单位叫做节点（node），一个文档的树形结构（DOM 树），就是由各种不同类型的节点组成。<br>对于 HTML 文档，节点主要有以下六种类型：Document 节点（文档）、DocumentType 节点（文档类型）、Element 节点（元素）、Attribute 节点（属性）、Text 节点（文本）和 DocumentFragment 节点（文档碎片）。<br>浏览器原生提供一个 Node 对象，上表所有类型的节点都是 Node 对象派生出来的。也就是说，它们都继承了 Node 的属性和方法。</p>
<ol start="0">
<li>文档（Document）节点，表示整个 HTML 文档，即 DOM 中的 D（Document 对象）<br>文档类型（DocumentType）节点，表示文档的类型，如 <!DOCTYPE html></li>
<li>元素（Element）节点，表示 HTML 元素，如 a 或 img</li>
<li>属性（Attribute）节点，表示 HTML 元素的属性，如 href（a 元素）或 src（img 元素）<br>属性节点比较特殊，它并不是文档树中特性齐全的一部分，比如它不会出现在父元素的 childNodes[] 列表中<br>另外许多常见的 HTML 属性（即特性，Attribute）有着对应的 DOM 属性（Property），所以对它们的操作不需要 DOM Core 方法也可以（使用 HTML DOM 方法），这里也是容易出兼容性问题的地方<br>使用 HTML DOM 方法（. 属性）时，常见的属性都是同名一一对应，除了几个例外：class&#x2F;className、for&#x2F;htmlFor，因为这些 HTML 属性名在 JavaScript 中是保留关键字</li>
<li>文本（Text）节点，表示 HTML 文档中的文本，它是出现在 p、a 或 h2 这些元素中的文字</li>
<li>注释（Comment）节点，表示 HTML 文档中的注释语句<br>文档碎片（DocumentFragment）节点，表示文档的片段</li>
</ol>
<h2 id="DOM-常用节点属性"><a href="#DOM-常用节点属性" class="headerlink" title="DOM 常用节点属性"></a>DOM 常用节点属性</h2><ul>
<li>nodeName 节点名称；元素节点为元素标签（注：全部大写），属性节点为属性名，文本节点为 #text，注释节点为 #comment，文档节点为 #document</li>
<li>nodeValue 节点值；文本和注释节点为其中的文本，属性节点为属性值，元素节点无此属性</li>
<li>nodeType 返回当前节点的类型（注：1、2、3、8、9 会经常用到）<br>  值  说明<br>  1   元素节点<br>  2   属性节点<br>  3   文本节点<br>  4   CDATA 选择节点<br>  5   实体引用节点<br>  6   实体节点<br>  7   处理指令节点<br>  8   注释节点<br>  9   文档节点<br>  10  文档类型节点<br>  11  文档片断节点<br>  12  符号节点</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">countChild</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;节点名称&quot;</span> + <span class="variable language_">document</span>.<span class="property">nodeName</span> + <span class="string">&quot;，节点类型&quot;</span> + <span class="variable language_">document</span>.<span class="property">nodeType</span>);</span><br><span class="line">    <span class="keyword">var</span> docElem = <span class="variable language_">document</span>.<span class="property">documentElement</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;节点名称&quot;</span> + docElem.<span class="property">nodeName</span> + <span class="string">&quot;，节点类型&quot;</span> + docElem.<span class="property">nodeType</span>);</span><br><span class="line">    <span class="keyword">var</span> bodyElem = <span class="variable language_">document</span>.<span class="property">body</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;节点名称&quot;</span> + bodyElem.<span class="property">nodeName</span> + <span class="string">&quot;，节点类型&quot;</span> + bodyElem.<span class="property">nodeType</span>);</span><br><span class="line">    <span class="keyword">var</span> orgChild = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;firstbq&quot;</span>).<span class="property">childNodes</span>;</span><br><span class="line">    <span class="keyword">var</span> realChild = <span class="title function_">extractNodes</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;firstbq&quot;</span>));</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;原始节点有：&quot;</span> + orgChild.<span class="property">length</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; orgChild.<span class="property">length</span>; j++) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;节点名称：&quot;</span> + orgChild[j].<span class="property">nodeName</span>);</span><br><span class="line">        <span class="keyword">if</span> (orgChild[j].<span class="property">nodeType</span> == <span class="number">3</span> || orgChild[j].<span class="property">nodeType</span> == <span class="number">8</span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;节点值：&quot;</span> + orgChild[j].<span class="property">nodeValue</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;元素节点有：&quot;</span> + realChild.<span class="property">length</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; realChild.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;节点名称：&quot;</span> + realChild[i].<span class="property">nodeName</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> attribute = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;firstbq&quot;</span>).<span class="title function_">getAttributeNode</span>(<span class="string">&quot;cite&quot;</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;属性节点名&quot;</span> + attribute.<span class="property">nodeName</span> + <span class="string">&quot;，属性节点值&quot;</span> + attribute.<span class="property">nodeValue</span> + <span class="string">&quot;，属性节点类型&quot;</span> + attribute.<span class="property">nodeType</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="DOM-常用查找节点方法"><a href="#DOM-常用查找节点方法" class="headerlink" title="DOM 常用查找节点方法"></a>DOM 常用查找节点方法</h2><ul>
<li><p>getElementById()<br>  只能使用于 Document 对象</p>
<blockquote>
<p>注：在 XML 文档中不能使用，它会默认搜索类型属性而不是 id 属性，而且该类型必须在文档类型定义（DTD）中被定义，这是唯一一个不通用的 DOM Core 方法</p>
</blockquote>
</li>
<li><p>getElementsByTagName()<br>  返回一个指定元素标签的后代元素节点列表（HTMLCollection 类型的对象），元素节点的变化实时反映在返回结果中。这个方法不仅可以在 Document 对象上调用，也可以在任何元素节点上调用。</p>
<blockquote>
<p>注：<code>getElementsByTagName(&quot;*&quot;)</code> 可以遍历出所有的后代元素节点</p>
</blockquote>
</li>
<li><p>getElementsByClassName()<br>  返回一个 class 名字符合指定条件的后代元素节点列表（HTMLCollection 类型的对象）。这个方法不仅可以在 Document 对象上调用，也可以在任何元素节点上调用。<br>  IE9+ 支持</p>
</li>
<li><p>querySelector()<br>  返回匹配指定的 CSS 选择器的元素节点。如果有多个节点满足匹配条件，则返回第一个匹配的节点。如果没有发现匹配的节点，则返回 null。<br>  IE8+ 支持；无法选中 CSS 伪元素</p>
</li>
<li><p>querySelectorAll()<br>  返回一个匹配指定的 CSS 选择器的所有元素节点列表（NodeList 类型的对象）。NodeList 对象不是动态集合，所以元素节点的变化无法实时反映在返回结果中。<br>  参数可以是逗号分隔的多个 CSS 选择器，返回所有匹配其中一个选择器的元素节点。<br>  IE8+ 支持；无法选中 CSS 伪元素</p>
</li>
<li><p>ownerDocument<br>  返回当前节点所在的顶层文档对象，即 Document 对象</p>
</li>
<li><p>parentNode<br>  父节点，浏览器的 parentNode 最终路线是 Element -&gt; body -&gt; html -&gt; #document；父节点只可能是三种类型：Element 节点、document 节点和 documentfragment 节点；对于 document 节点和 documentfragment 节点，它们的父节点都是 null。另外，对于那些生成后还没插入 DOM 树的节点（存在于 DOM 超空间），父节点也是 null。</p>
</li>
<li><p>parentElement<br>  父 Element 节点。如果当前节点没有父节点，或者父节点类型不是 Element 节点，则返回 null。在 IE 浏览器中，只有 Element 节点才有该属性，其他浏览器则是所有类型的节点都有该属性。</p>
</li>
<li><p>childNodes<br>  遍历出所有的子节点，包括 Element 节点、Text 节点、Comment 节点，但不包括属性节点；如果不包含任何节点，则返回空数组</p>
<blockquote>
<p>注：现代浏览器把 Element 节点间的换行看为一个 Text 节点，IE8- 则忽略它</p>
</blockquote>
</li>
<li><p>firstChild<br>  第一子节点，相当于 childNodes[0]</p>
</li>
<li><p>lastChild<br>  最终子节点，相当于 childNodes[length-1]</p>
</li>
<li><p>previousSibling<br>  前一兄弟节点</p>
</li>
<li><p>nextSibling<br>  后一兄弟节点，注意，该属性还包括 Text 节点和 Comment 节点。</p>
</li>
<li><p>children<br>  遍历出所有的子 Element 节点，IE8- 还包括 Comment 节点。</p>
</li>
<li><p>childElementCount<br>  返回当前节点的所有子 Element 节点的数目。IE9+ 支持</p>
</li>
<li><p>firstElementChild<br>  返回第一个子 Element 节点，如果没有，则返回 null。IE9+ 支持</p>
</li>
<li><p>lastElementChild<br>  返回最后一个子 Element 节点，如果没有，则返回 null。IE9+ 支持</p>
</li>
<li><p>textContent<br>  返回当前节点和它的所有后代节点的文本内容。自动忽略当前节点内部的 HTML 标签<br>  该属性是可读写的，设置该属性的值，会用一个新的 Text 节点，替换所有它原来的子节点。它还有一个好处，就是自动对 HTML 标签转义。<br>  对于 Text 节点和 Comment 节点，该属性的值与 nodeValue 属性相同。</p>
</li>
<li><p>hasChildNodes()<br>  返回一个布尔值，表示当前节点是否有子节点。相当于 childNodes.length &lt; 1</p>
</li>
<li><p>hasAttribute()<br>  返回一个布尔值，表示 Element 对象是否有该属性。</p>
</li>
<li><p>getAttribute()<br>  读取特性值（包括自定义属性）<br>  关于 Property 和 Attribute 的区别见下文：<br>  Property：属性，DOM 属性层面，所有的 HTML 元素都由 HTMLElement 类型表示，HTMLElement 类型直接继承自 Element 并添加了一些属性，添加的这些属性分别对应于每个 HTML 元素都有下面的这 5 个标准特性: id,title,lang,dir,class。DOM 节点是一个对象，因此，他可以和其他的 JavaScript 对象一样添加自定义的属性以及方法。property 的值可以是任何的数据类型，对大小写敏感，自定义的 property 不会出现在 html 代码中，只存在 Javascript 中。<br>  Attribute：特性，HTML 属性层面，区别于 property，attribute 只能是字符串，大小写不敏感，出现在 HTML 中，通过类数组 attributes 可以罗列所有的 attribute。<br><br>  标准的 properties 与 attributes 是同步的。非自定义的特性会被以属性的形式添加到 DOM 对象中。这时候操作 property 或者使用操作特性的 DOM 方法如 getAttribute() 都可以操作属性。不过传递给 getAttribute() 的特性名与实际的特性名相同。因此对于 class 的特性值获取的时候要传入 “class”。<br><br>  注 1：对于 style 和 onclick 等属性：getAttribute() 方法访问时会返回字符串，而 HTML DOM 方法返回的是相应的对象和事件处理函数。<br>       href：getAttribute 获取的是 href 的字面量值，而 HTML DOM 方法获取的是计算后的完整 url，存在浏览器差异。<br>  注 2：在 IE6 中，读取 for 和 class 属性时，使用 htmlFor 和 className；所以读取这些属性时为了兼容要分别对 IE 和其他浏览器写不同的语句，不如使用 HTML DOM 方便<br>  注 3：在 IE6&#x2F;Safari 中，将 HTML 属性 等同于 DOM 属性，即允许不加区别地使用 x.getAttribute(“属性”)（DOM Core）和 x. 属性（HTML DOM），而其他浏览器将这两者视为不同的个体<br>  注 4：getAttributeNode() 方法用来读取属性节点，通过此方法获得的才是节点对象，才有 nodeName、nodeValue、nodeType 等属性<br>  注 5：jQuery 中，attr() 获取 Attribute 值，prop() 获取 Property 值，对于 autofocus、checked、disabled、readOnly 和 selected 值，一般用 prop() 方法，其他用 attr() 方法</p>
</li>
<li><p>tagName<br>  该属性返回指定元素的大写的标签名，与 nodeName 属性的值相等。</p>
</li>
</ul>
<h3 id="两个根节点"><a href="#两个根节点" class="headerlink" title="两个根节点"></a>两个根节点</h3><ul>
<li><p>document.documentElement 指文档的 &lt;html&gt; 标签</p>
<blockquote>
<p>注：该节点在 HTML 代码加载时就存在；对现代浏览器来说，以此为页面根节点</p>
</blockquote>
</li>
<li><p>document.body 指文档的 &lt;body&gt; 标签</p>
<blockquote>
<p>注：该节点在 HTML DOM 构造完才存在</p>
</blockquote>
</li>
</ul>
<h3 id="NodeList"><a href="#NodeList" class="headerlink" title="NodeList"></a>NodeList</h3><p>是一组节点的集合，会包含文档中的所有节点，如 Element、Text 和 Comment 等。比如 Node.childNodes、document.querySelectorAll()。它们返回的都是一个部署了 NodeList 接口的对象。<br>NodeList 接口有时返回一个动态集合，有时返回一个静态集合。<br>所谓动态集合就是一个活的集合，DOM 树删除或新增一个相关节点，都会立刻反映在 NodeList 接口之中。Node.childNodes 返回的，就是一个动态集合。<br>document.querySelectorAll 方法返回的是一个静态集合，DOM 内部的变化，并不会实时反映在该方法的返回结果之中。<br>NodeList 接口提供 length 属性和数字索引，因此可以像数组那样，使用数字索引取出每个节点，但是它本身并不是数组，只是一个类似于数组的对象（简称类数组），不能使用 pop 或 push 等数组特有的方法。</p>
<blockquote>
<p>注：NodeList 对象比 HTMLCollection 对象 多提供了一个 forEach() 方法（仅现代浏览器，IE 不支持）。<br>    属于 DOM Core 规范。</p>
</blockquote>
<h3 id="HTMLCollection"><a href="#HTMLCollection" class="headerlink" title="HTMLCollection"></a>HTMLCollection</h3><p>与 NodeList 接口类似，也是节点的集合，但是集合成员都是 Element 节点。该接口都是动态集合，节点的变化会实时反映在集合中。document.links、document.forms、document.images 等属性，返回的都是 HTMLCollection 接口对象。<br>部署了该接口的对象，具有 length 属性和数字索引，因此是一个类似于数组的对象。</p>
<p>与 NodeList 接口类似，也是节点的集合，但是集合成员都是 Element 节点。该接口都是动态集合，节点的变化会实时反映在集合中。document.links、document.forms、document.images 等属性和 getElementsBy 系列方法，返回的都是 HTMLCollection 接口对象。<br>部署了该接口的对象，具有 length 属性和数字索引，也是一个类数组对象。</p>
<blockquote>
<p>注：HTMLCollection 对象比 NodeList 对象 多提供了一个 namedItem() 方法。<br>属于 DOM HTML 规范。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">findNode</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> obj = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;testdiv&quot;</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">className</span> + <span class="string">&quot;；&quot;</span> + obj.<span class="title function_">getAttribute</span>(<span class="string">&quot;className&quot;</span>) + <span class="string">&quot;；&quot;</span> + obj.<span class="title function_">getAttribute</span>(<span class="string">&quot;class&quot;</span>));</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">style</span> + <span class="string">&quot;；&quot;</span> + obj.<span class="title function_">getAttribute</span>(<span class="string">&quot;style&quot;</span>));</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">onclick</span> + <span class="string">&quot;；&quot;</span> + obj.<span class="title function_">getAttribute</span>(<span class="string">&quot;onclick&quot;</span>));</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">length</span> + <span class="string">&quot;；&quot;</span> + obj.<span class="title function_">getAttribute</span>(<span class="string">&quot;length&quot;</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">nodeArray</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> contain = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;tr&quot;</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(contain.<span class="property">length</span>);</span><br><span class="line">    <span class="comment">// 建立一个辅助数组，用来存储要移除的 tr 元素</span></span><br><span class="line">    <span class="keyword">var</span> hidden = [];</span><br><span class="line">    <span class="comment">// 建立一个超空间中的元素，用来存储已移除的 tr 元素</span></span><br><span class="line">    <span class="keyword">var</span> tempRoom = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;table&quot;</span>);</span><br><span class="line">    <span class="comment">// 建立一个类似于关联数组的对象，用来存储已经移除的单个 tr 元素的引用</span></span><br><span class="line">    hiddenPointer = <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line">    <span class="comment">// 创建一个标记用来记录移除 tr 元素的原始位置，方便以后重新插入</span></span><br><span class="line">    <span class="keyword">var</span> marker = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; contain.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (contain[i].<span class="title function_">getAttribute</span>(<span class="string">&quot;rel&quot;</span>)) &#123;</span><br><span class="line">            <span class="comment">// 把有 rel 属性的要移除的 tr 元素存进辅助数组</span></span><br><span class="line">            hidden.<span class="title function_">push</span>(contain[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 如果辅助数组有长度，即它仍然包含有元素</span></span><br><span class="line">    <span class="keyword">while</span> (hidden.<span class="property">length</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> rel = hidden[<span class="number">0</span>].<span class="title function_">getAttribute</span>(<span class="string">&quot;rel&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (!hiddenPointer[rel]) &#123;</span><br><span class="line">            hiddenPointer[rel] = [];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// tr 元素的 rel 属性可能为同一值，这样的话，它们会被添加进同一个 hiddenPointer[rel] 数组</span></span><br><span class="line">        <span class="keyword">var</span> relIndex = hiddenPointer[rel].<span class="property">length</span>;</span><br><span class="line">        <span class="comment">// 添加进同一个 hiddenPointer[rel] 数组时，数组长度对应 + 1</span></span><br><span class="line">        hiddenPointer[rel][relIndex] = hidden[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> newMarker = marker.<span class="title function_">cloneNode</span>(<span class="literal">true</span>);</span><br><span class="line">        <span class="comment">// 对标记来说，选择一个简单的 ID 命名方案很重要</span></span><br><span class="line">        newMarker.<span class="property">id</span> = rel + relIndex;</span><br><span class="line">        <span class="comment">// 把 tr 元素替换成标识符，同时 tr 元素从文档中移除</span></span><br><span class="line">        hidden[<span class="number">0</span>].<span class="property">parentNode</span>.<span class="title function_">replaceChild</span>(newMarker, hidden[<span class="number">0</span>]);</span><br><span class="line">        <span class="comment">// 把从文档中移除的 tr 元素（虽然被从文档中移除了，但是辅助数组还指向它，所以可以操作）添加进超空间的存储元素中，另外使用 shift() 来更新一下对应的辅助数组（这是真实的数组，不是节点列表，所以不会自动更新）</span></span><br><span class="line">        tempRoom.<span class="title function_">appendChild</span>(hidden.<span class="title function_">shift</span>());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 把这些 tr 重新添加进文档后，指向 tr 的节点列表的 length 会自动更新，所以长度不变</span></span><br><span class="line">    <span class="comment">//document.body.appendChild(tempRoom)</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(contain.<span class="property">length</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="DOM-常用操作节点方法"><a href="#DOM-常用操作节点方法" class="headerlink" title="DOM 常用操作节点方法"></a>DOM 常用操作节点方法</h2><h3 id="创建节点："><a href="#创建节点：" class="headerlink" title="创建节点："></a>创建节点：</h3><ul>
<li><p>createElement()<br>  参数为元素的标签名，为小写。创建出的 Element 节点在没有添加到文档中时，保存于 DOM 超空间中</p>
</li>
<li><p>createTextNode()<br>  不能创建类似于 “&copy;” 或 “&#8212;” 这样的 HTML 实体，遇到这样的需求时只能用 innerHTML 来代替</p>
</li>
<li><p>cloneNode()<br>  它接受一个布尔值作为参数，表示是否同时复制子节点，默认是 false，即不复制子节点。复制 Element 节点时不会复制绑定在其上的事件处理函数，所以对复制出来的节点要重新定义事件</p>
</li>
</ul>
<h3 id="修改节点："><a href="#修改节点：" class="headerlink" title="修改节点："></a>修改节点：</h3><ul>
<li><p>appendChild()<br>  将一个节点插入到指定的父节点的最末尾处</p>
</li>
<li><p>insertBefore()<br>  它接受两个参数，第一个参数是待插入的新节点，第二个参数是当前操作节点的一个子节点，新节点将插在这个子节点的前面。如果第二个参数为 null，则新节点将插在当前操作节点的最后位置，即变成最后一个子节点，相当于 appendChild。</p>
</li>
<li><p>removeChild()<br>  移除后的 Element 节点也保存于 DOM 超空间中，只要有一个指向该节点的引用，它就保持可用，除非该引用设置为 null</p>
</li>
<li><p>replaceChild()<br>  用于将一个新的节点，替换当前节点的某一个子节点。它接受两个参数，第一个参数是用来替换的新节点，第二个参数将要被替换走的子节点。它返回被替换走的那个节点。<br>  以上四种方法返回值都是操作的节点对象</p>
</li>
<li><p>setAttribute()<br>  设置属性值（包括自定义属性）；另外使用 HTML DOM 方法有更好的兼容性（见注），但对元素的自定义属性无效（Firefox 中）</p>
<blockquote>
<p>注：在 IE6 中，不能设置某些属性包括对象属性、事件属性、复合属性，例如 class、onclick、style 等；而应该使用 HTML DOM 方法：<br>      x.className &#x3D; “demo”;<br>      x.onclick &#x3D; handle();<br>      x.style.cssText &#x3D; “font-weight:bold;color:red;”;</p>
</blockquote>
</li>
<li><p>removeAttribute()<br>  删除属性值（包括自定义属性）</p>
</li>
<li><p>normailize()<br>  用于清理当前节点内部的所有 Text 节点。它会去除空的文本节点，并且将毗邻的文本节点合并成一个。</p>
</li>
<li><p>dataset<br>  该属性用于操作 HTML 标签元素的 data-* 属性。目前，IE11 支持。dataset 属性使用驼峰命名法表示属性名，而 data 属性本身只能使用连词号，不能使用驼峰拼写法<br>  <div id="myDiv" data-true-id="myId"></div> &#x3D;&#x3D;&gt; document.getElementById(“myDiv”).dataset.trueId;</p>
</li>
</ul>
<h3 id="比较节点："><a href="#比较节点：" class="headerlink" title="比较节点："></a>比较节点：</h3><ul>
<li><p>contains()<br>  接受一个节点作为参数，返回一个布尔值，表示参数节点是否为当前节点的后代节点。</p>
</li>
<li><p>compareDocumentPosition()<br>  与 contains 方法完全一致，返回一个7个比特位的二进制值，表示参数节点与当前节点的关系。IE9+ 支持</p>
</li>
<li><p>isEqualNode()<br>  返回一个布尔值，用于检查两个节点是否相等。所谓相等的节点，指的是两个节点的类型相同、属性相同、子节点相同。IE9+ 支持</p>
</li>
</ul>
<h3 id="其他方法："><a href="#其他方法：" class="headerlink" title="其他方法："></a>其他方法：</h3><ul>
<li><p>innerHTML<br>  返回该元素包含的 HTML 代码。本来是 IE 的专有属性，但现在所有浏览器都支持，而且在添加结构复杂的元素时，<a target="_blank" rel="noopener" href="http://www.quirksmode.org/dom/innerhtml.html">它比 W3C DOM 方法（createElement()&#x2F;appendChild()）更快</a><br>  这是微软标准优于 W3C 标准的地方之一<br>  而且它和 W3C DOM 方法合作很好，通过其中一种方法的改动结果在另外一种方法中立即可用</p>
<blockquote>
<p>注：如果文本节点中包含 &amp;、小于号（&lt;）和大于号（&gt;），innerHTML 属性会将它们转为实体形式 &amp;amp、&amp;lt、&amp;gt。<br>  注：在 IE 中要特别注意，使用了 innerHTML &#x3D; “” 后，所有后代 Text 节点会被销毁，而不会保存在超空间中</p>
</blockquote>
</li>
<li><p>outerHTML<br>  返回指定元素的所有 HTML 代码，包括它自身和包含的所有子元素。相当于 innerHTML 的内容 + 元素的外围标签。Firefox11 以后版本支持</p>
<blockquote>
<p>注：对它进行赋值，等于替换掉当前元素。</p>
</blockquote>
</li>
<li><p>innerText、outerText<br>  显示 Element 节点的包含文本（只有 Firefox 不支持），对应于 W3C 标准的 textContent 属性（IE9+ 支持）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> xText = x.<span class="property">innerText</span> || x.<span class="property">textContent</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注：textContent 属性与 innerTex 属性还有些差异：innerText 受 CSS 影响，textcontent 不受；innerText 返回的文本，会过滤掉空格、换行和回车键，textcontent 则不会，只能用正则替换掉。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x.<span class="property">textContent</span>.<span class="title function_">replace</span>(<span class="regexp">/\ \ /g</span>,<span class="string">&quot;&quot;</span>).<span class="title function_">replace</span>(<span class="regexp">/(^\n+)|(\n+$)/g</span>,<span class="string">&quot;&quot;</span>);</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">appendHtml</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> testdiv = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;testdiv&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (!testdiv) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// W3C DOM 方法</span></span><br><span class="line">    <span class="keyword">var</span> para = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;p&quot;</span>);</span><br><span class="line">    <span class="keyword">var</span> txt1 = <span class="variable language_">document</span>.<span class="title function_">createTextNode</span>(<span class="string">&quot;这是一个&quot;</span>);</span><br><span class="line">    <span class="keyword">var</span> emph = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;em&quot;</span>);</span><br><span class="line">    <span class="keyword">var</span> txt2 = <span class="variable language_">document</span>.<span class="title function_">createTextNode</span>(<span class="string">&quot;DOM 创建的&quot;</span>);</span><br><span class="line">    <span class="keyword">var</span> txt3 = <span class="variable language_">document</span>.<span class="title function_">createTextNode</span>(<span class="string">&quot;文本内容&quot;</span>);</span><br><span class="line">    para.<span class="title function_">appendChild</span>(txt1);</span><br><span class="line">    emph.<span class="title function_">appendChild</span>(txt2);</span><br><span class="line">    para.<span class="title function_">appendChild</span>(emph);</span><br><span class="line">    para.<span class="title function_">appendChild</span>(txt3);</span><br><span class="line">    testdiv.<span class="title function_">appendChild</span>(para);</span><br><span class="line">    <span class="comment">// innerHTML 方法，更简洁</span></span><br><span class="line">    testdiv.<span class="property">innerHTML</span> += <span class="string">&quot;&lt;p&gt; 这是一个 &lt;em&gt;innerHTML 创建的 &lt;/em&gt; 文本内容 &lt;/p&gt;&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> show = testdiv.<span class="property">lastChild</span>.<span class="property">childNodes</span>[<span class="number">1</span>].<span class="property">firstChild</span>.<span class="property">nodeValue</span>;</span><br><span class="line">    <span class="keyword">if</span> (!show) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(show);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">showNode</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> obj = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;testdiv&quot;</span>);</span><br><span class="line">    <span class="keyword">var</span> temp = obj.<span class="property">parentNode</span>;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    console.log(obj.innerHTML);</span></span><br><span class="line"><span class="comment">    console.log(obj.outerHTML);</span></span><br><span class="line"><span class="comment">    console.log(obj.innerText);</span></span><br><span class="line"><span class="comment">    console.log(obj.textContent);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    // 首先移除 Element 节点，保存在超空间</span></span><br><span class="line"><span class="comment">    var re = temp.removeChild(obj);</span></span><br><span class="line"><span class="comment">    // 移除父元素内容，IE 会把后代 Text 节点销毁，由于刚才已经提前保存在超空间，obj 中的文本反而没有丢失</span></span><br><span class="line"><span class="comment">    temp.innerHTML = &quot;&quot;;</span></span><br><span class="line"><span class="comment">    //obj = null;</span></span><br><span class="line"><span class="comment">    obj.appendChild(document.createTextNode(&quot; 移除后又创建的节点，它保存在于超空间中 &quot;));</span></span><br><span class="line"><span class="comment">    temp.appendChild(obj);</span></span><br><span class="line"><span class="comment">&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="0-级-DOM-和表单"><a href="#0-级-DOM-和表单" class="headerlink" title="0 级 DOM 和表单"></a>0 级 DOM 和表单</h2><p>随着 W3C DOM 的发展，0 级 DOM 已经渐渐没有用武之地，而被功能更强大、通用性更佳的前者所替代。只有一个例外，那就是对表单和表单域的处理</p>
<p>四个重要区别：<br>0. 0 级 DOM 的节点列表只对有限的几个元素可用，最主要是图片、链接和表单域<br>        document.images[] 相当于 document.getElementsByTagName(“img”)<br>        document.links[]（<a href>） + document.anchors[]（<a name>） 相当于 document.getElementsByTagName(“a”)<br>        document.forms[] 相当于 document.getElementsByTagName(“form”)<br>        document.scripts[] 相当于 document.getElementsByTagName(“script”)<br>0. 0 级 DOM 的节点列表查找元素时，除了可用使用索引数字，还允许使用 name 和 id<br>        document.images[0] 相当于 document.getElementsByTagName(“img”)[0]<br>        另外还可以使用 document.images[“name”]、document.images[“id”] 来查找元素<br>0. 0 级 DOM 的节点列表 options[]，允许添加和移除 option 元素<br>        options[] 不等同于 getElementsByTagName(“option”)，前者可以添加或移除元素；而后者是个普通的 W3C DOM 的只读节点列表<br>0. 0 级 DOM 的节点列表 elements[] 在 W3C DOM 中没有对应的实现<br>        document.forms[0].elements[] 表示第一个表单的所有表单域，而因为表单域通常会有不同的标签名（input、select、textarea），所以不能用 getElementsByTagName() 来把它们全读取到，即使调用多次也不能按表单域在文档中出现的顺序来读取它们，所以这是一个很有用而 W3C DOM 未实现的功能</p>
<h3 id="表单域常见属性"><a href="#表单域常见属性" class="headerlink" title="表单域常见属性"></a>表单域常见属性</h3><ul>
<li>type 表单域类型：text、hidden、textarea、checkbox、radio、select、file、submit、reset，不推荐改变该值，因为不是所有浏览器都支持</li>
<li>form 指向父表单对象，因为表单域的 parentNode 不一定就是 &lt;form&gt; 标签，所以这个属性很有用</li>
<li>disabled 表单域是否可用，禁用的表单域即使有值也不会发回给服务器</li>
<li>name 不推荐改变该值，因为不是所有浏览器都支持</li>
<li>value 这是通常需要的值</li>
</ul>
<p>其中：</p>
<ul>
<li>text、hidden、textarea 的值在 value 属性中</li>
<li>checkbox 的值在 checked 属性中<br>  &#x2F;&#x2F; 读取复选框（checkbox 元素）的 checked 属性有两种方法：<br>      ① .checked<br>          元素的 Property 属性，决定该元素是否为选中状态<br>          true 选择 &#x2F; false 未选<br>      ② .getAttribute(“checked”)<br>          元素的 Attribute 属性<br>          对 IE6、7：true &#x2F; false<br>          对 IE8：checked &#x2F; ‘’<br>          对 IE9+、现代浏览器：真实值 &#x2F; null<br><br>  &#x2F;&#x2F; 对应的，设置复选框的 checked 属性也有两种方法：<br>      ① .checked<br>          true&#x2F;false<br>          注：在 IE9+、现代浏览器中，只能影响 DOM 属性，不会改变 HTML 属性<br>      ② .setAttribute(“checked”)<br>          对 IE：setAttribute(“checked”,”checked”)&#x2F;setAttribute(“checked”,””)<br>          对 Firefox：setAttribute(“checked”,”checked”)&#x2F;removeAttribute(“checked”)</li>
<li>radio 的值也在 checked 属性中，但用起来相对复杂些。同组相关的单选框有相同的 name 属性，可以通过 document.forms[0].elements[“radioName”] 来读取它们<br>  function radio(e) {<br>      var evt &#x3D; e || window.event;<br>      var evtTarget &#x3D; evt.target || evt.srcElement;<br>      &#x2F;&#x2F; 找出成为事件目标对象的单选框，通过 form 查找父表单，通过 name 查找同名单选框<br>      var allRadios &#x3D; evtTarget.form[evtTarget.name];<br>      for (var i &#x3D; 0; i &lt; allRadios.length; i++) {<br>          &#x2F;&#x2F; 然后对整组同名的单选框进行操作<br>      }<br>      return false;<br>  };</li>
<li>select（类型是 select-one）也有 value 值，取自其被选中项的 value 属性（注：当选中项没有 value 属性时，Firefox 会读取对应的 Text 节点，相当于 text 属性）；另外还有个 selectedIndex 属性表示选中项的索引；最后它的 options[] 节点列表包含了所有选项<br>  &#x2F;&#x2F; 添加选项（option 元素）的方法比较特殊，有三种：<br>      ① 0 级 DOM 方法<br>      var newOpt &#x3D; new Option(“来选择”,”1”);<br>      select.options[0] &#x3D; newOpt;<br>      ② W3C DOM 方法<br>      var newOpt &#x3D; document.createElement(“option”);<br>      var oText &#x3D; document.createTextNode(“选择”);<br>      newOpt.appendChild(oText);<br>      newOpt.setAttribute(“value”,”1”);<br>      select.appendChild(newOpt);<br>      ③ 混合方法<br>      var newOpt &#x3D; document.createElement(“option”);<br>      newOpt.text &#x3D; “请选择”;<br>      newOpt.value &#x3D; “1”;<br>      select.options.add(newOpt);<br><br>  &#x2F;&#x2F; 移除选项（option 元素）的方法有两种：<br>      ① 0 级 DOM 方法<br>      select.options[0] &#x3D; null<br>      ② W3C DOM 方法<br>      select.removeChild(select.getElementsByTagName(“option”)[0]);</li>
<li>file 因为安全策略，不允许脚本设置 value 值</li>
<li>submit、reset 的 value 值就是按钮上的文字，而 button 的文字是单独 Text 节点，没有 value 值</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">testSelect</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> elem = <span class="variable language_">document</span>.<span class="property">forms</span>[<span class="number">1</span>].<span class="property">elements</span>;</span><br><span class="line">    <span class="keyword">if</span> (!elem) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//console.log(elem.length);</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; elem.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="comment">//console.log(&quot;类型&quot;+elem[i].type+&quot;；名称&quot;+elem[i].name+&quot;；值&quot;+elem[i].value);</span></span><br><span class="line">        <span class="keyword">if</span> (elem[i].<span class="property">type</span> == <span class="string">&quot;select-one&quot;</span>) &#123;</span><br><span class="line">            <span class="keyword">var</span> sindex = elem[i].<span class="property">selectedIndex</span>;</span><br><span class="line">            <span class="comment">//console.log(&quot;select 的值：&quot;+elem[i].value+&quot;也是其选中项的值：&quot;+elem[i].options[sindex].value);</span></span><br><span class="line">            <span class="comment">//console.log(elem[i].options[sindex].text);</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//console.log(elem[i].options.length);</span></span><br><span class="line">            <span class="comment">//console.log(elem[i].getElementsByTagName(&quot;option&quot;).length);</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> foo = elem[i].<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;option&quot;</span>)[<span class="number">0</span>];</span><br><span class="line">            elem[i].<span class="title function_">removeChild</span>(foo);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//console.log(elem[i].options.length);</span></span><br><span class="line">            <span class="comment">//console.log(elem[i].getElementsByTagName(&quot;option&quot;).length);</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> select = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;select&quot;</span>);</span><br><span class="line">    <span class="keyword">var</span> newOpt = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;option&quot;</span>);</span><br><span class="line">    newOpt.<span class="property">innerHTML</span> = <span class="string">&quot;&amp;copy; 选择&quot;</span>;</span><br><span class="line">    newOpt.<span class="title function_">setAttribute</span>(<span class="string">&quot;value&quot;</span>,<span class="string">&quot;1&quot;</span>);</span><br><span class="line">    select.<span class="title function_">appendChild</span>(newOpt);</span><br><span class="line">    <span class="keyword">var</span> oldOpt = newOpt.<span class="title function_">cloneNode</span>(<span class="literal">true</span>);</span><br><span class="line">    select.<span class="title function_">appendChild</span>(oldOpt);</span><br><span class="line">    select.<span class="property">options</span>.<span class="title function_">add</span>(<span class="keyword">new</span> <span class="title class_">Option</span>(<span class="string">&quot; 来选择 &quot;</span>,<span class="string">&quot;3&quot;</span>));</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;navigation&quot;</span>).<span class="title function_">appendChild</span>(select);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="要点总结"><a href="#要点总结" class="headerlink" title="要点总结"></a>要点总结</h4><pre><code>// 检测一个元素是否在超空间中可以看它是否有 parentNode 属性，因为在超空间的元素属于 “自由漂浮”，不会有父元素，而每个 HTML 元素都有一个 parentNode

// 移去一个元素的所有子节点的方法
while (x.firstChild) &#123;
    x.removeChild(x.firstChild);
&#125;
相当于 x.innerHTML = &quot;&quot;;

// 在 IE6 中，对于 createElement() 创建出的 checkbox 元素，必须先把其添加进文档，然后才能设置 checked 属性

// 在 IE6 中，对于 createElement() 创建出的元素，不能在创建后设置其 name 属性：http://msdn.microsoft.com/en-us/library/ms534184.aspx
// 必须使用 IE 的特殊方法：
var anchor = document.createElement(&quot;&lt;a name=&#39;anchorname&#39;&gt;&lt;/a&gt;&quot;)
// 或直接用 innerHTML

// 在 IE6 中，创建表格元素时特别注意：tr 必须放在 tbody 之下，不能直接在 table 之下；只有 td 支持 innerHTML
</code></pre>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">testCreateElem</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> newField = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;input&quot;</span>);</span><br><span class="line">    newField.<span class="property">type</span> = <span class="string">&quot;checkbox&quot;</span>;</span><br><span class="line">    newField.<span class="property">name</span> = <span class="string">&quot;select&quot;</span>;</span><br><span class="line">    newField.<span class="property">value</span> = <span class="string">&quot;复选框&quot;</span>;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;navigation&quot;</span>).<span class="title function_">appendChild</span>(newField);</span><br><span class="line">    newField.<span class="property">checked</span> = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/JavaScript/" rel="tag"># JavaScript</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2015/09/22/09.ecma06/" rel="prev" title="JavaScript 读书心得之六：事件（Event）">
      <i class="fa fa-chevron-left"></i> JavaScript 读书心得之六：事件（Event）
    </a></div>
      <div class="post-nav-item">
    <a href="/2015/09/24/11.ecma08/" rel="next" title="JavaScript 读书心得之八：CSS 修改（CSS DOM）">
      JavaScript 读书心得之八：CSS 修改（CSS DOM） <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E8%A8%80"><span class="nav-number">1.</span> <span class="nav-text">前言</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#W3C-DOM"><span class="nav-number">2.</span> <span class="nav-text">W3C DOM</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DOM-%E4%B8%AD%E7%9A%84%E8%8A%82%E7%82%B9"><span class="nav-number">3.</span> <span class="nav-text">DOM 中的节点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DOM-%E5%B8%B8%E7%94%A8%E8%8A%82%E7%82%B9%E5%B1%9E%E6%80%A7"><span class="nav-number">4.</span> <span class="nav-text">DOM 常用节点属性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DOM-%E5%B8%B8%E7%94%A8%E6%9F%A5%E6%89%BE%E8%8A%82%E7%82%B9%E6%96%B9%E6%B3%95"><span class="nav-number">5.</span> <span class="nav-text">DOM 常用查找节点方法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%A4%E4%B8%AA%E6%A0%B9%E8%8A%82%E7%82%B9"><span class="nav-number">5.1.</span> <span class="nav-text">两个根节点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#NodeList"><span class="nav-number">5.2.</span> <span class="nav-text">NodeList</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HTMLCollection"><span class="nav-number">5.3.</span> <span class="nav-text">HTMLCollection</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DOM-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C%E8%8A%82%E7%82%B9%E6%96%B9%E6%B3%95"><span class="nav-number">6.</span> <span class="nav-text">DOM 常用操作节点方法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E8%8A%82%E7%82%B9%EF%BC%9A"><span class="nav-number">6.1.</span> <span class="nav-text">创建节点：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E8%8A%82%E7%82%B9%EF%BC%9A"><span class="nav-number">6.2.</span> <span class="nav-text">修改节点：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%AF%94%E8%BE%83%E8%8A%82%E7%82%B9%EF%BC%9A"><span class="nav-number">6.3.</span> <span class="nav-text">比较节点：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B6%E4%BB%96%E6%96%B9%E6%B3%95%EF%BC%9A"><span class="nav-number">6.4.</span> <span class="nav-text">其他方法：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%8F%E7%BB%93"><span class="nav-number">6.5.</span> <span class="nav-text">小结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0-%E7%BA%A7-DOM-%E5%92%8C%E8%A1%A8%E5%8D%95"><span class="nav-number">7.</span> <span class="nav-text">0 级 DOM 和表单</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A1%A8%E5%8D%95%E5%9F%9F%E5%B8%B8%E8%A7%81%E5%B1%9E%E6%80%A7"><span class="nav-number">7.1.</span> <span class="nav-text">表单域常见属性</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A6%81%E7%82%B9%E6%80%BB%E7%BB%93"><span class="nav-number">7.1.1.</span> <span class="nav-text">要点总结</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">可口可乐</p>
  <div class="site-description" itemprop="description">Personal Blog</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">53</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">28</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">可口可乐</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
